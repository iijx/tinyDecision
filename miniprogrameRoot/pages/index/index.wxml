<view class="container">
	 <!-- <view class="add-wrap">
		<button class="add-btn" type="mini" size="mini"  bindtap="pageToCreate" type="warn" hover-class="defaultTap">+</button>
	</view>  -->
	<i-tabs class="tabs" current="{{ tabActive }}" bindchange="handleTabChange">
		<i-tab key="recommends" title="推荐"></i-tab>
		<i-tab key="users" title="我的"></i-tab>
	</i-tabs>

	<view class="users-list-wrap" wx:if="{{ tabActive === 'users'}}">
		<view class="list-wrap">
			<!-- 日期列表 -->
			<view class="item1" wx:for="{{list}}" wx:key="item1-{{index}}" wx:for-index="i">
				<view class="date">{{computed.delYear(item.showTime)}}</view>
				<!-- 单日列表 -->
				<view class="qs-item-wrap" wx:for="{{item.list}}" wx:key="{{item.id}}" wx:for-index="j" bindtap="itemClick" data-i="{{i}}" data-j="{{j}}">
					<view class="qs">
						<view class="left-line" style="background: {{ computed.isResolved(item.maxLotteryTimes, item.lotteriedTimes) ? '#52c41a': '#ffec3d'}}"></view>
						<view class="question">{{item.question}}</view>
					</view>
					<!-- <view wx:if="{{ item.resolvedValue }}" class="answer" wx:id="computed.isResolved(item.maxLotteryTimes, item.lotteriedTimes)">{{ item.resolvedValue }}</view> -->
				</view>
			</view>
			<!-- 今天暂无 -->
		</view>
	</view>

    
</view>

<wxs module="computed">
module.exports.delYear = function(showTime) {
    if(showTime === '今天' || showTime === '昨天') return showTime;
    else return showTime.split('年')[1];
}
module.exports.isResolved = function(maxLotteryTimes, lotteriedTimes) {
    return maxLotteryTimes !== -1 && maxLotteryTimes <= lotteriedTimes;
}
</wxs>